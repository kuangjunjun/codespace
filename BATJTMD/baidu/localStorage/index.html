<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LocalStorage 前端</title>
</head>
<body>
    <div class="wrapper">
        <h2>LOCAL TAPAS</h2>
        <p></p>
        <ul class="plates">
            <li>Loading Tapas...</li>
        </ul>
        <form  class="add-items">
            <input type="text" name = "item" required placeholder="Item Name" >
            <input type="submit" value="+ Add Item"> 
        </form>
    </div>
<script>
// window.localStorage.setItem('name', 'batman')
const addItems = document.querySelector('.add-items')
const itemsList = document.querySelector('.plates')
const items = []
function addItems(e){
    e.preventDefault(); // 阻止浏览器表单的默认行为
    // 组织todos结构
    const item = {
        text: this.querySelector('[name=item]').value,
        done: false
    }
    // console.log(item);
    items.push(items, itemsList)
    // DOM 更新的业务逻辑, 重新渲染
    populateList(items, itemsList)
}

function populateList(plates=[],platesList){
    // map 返回一个新数组, callback return 一个新数组
    // join 把数组转换成字符串
    platesList.innerHTMl = plates.map((plate, i) => {
        return 
            <li>
                <input type="checkbox"
                data-index=${i}
                id="item"
    })
}

addItems.addEventListener('submit', addItems);
</script>
</body>
</html>